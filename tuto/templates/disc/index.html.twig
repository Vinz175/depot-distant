{% extends 'base.html.twig' %}

    

{% block title %}Disc index{% endblock %}
{% block body %}
{% if is_granted('IS_AUTHENTICATED_FULLY') %}

    
    <h1>Disc index <a href="{{ path('app_disc_new') }}"><i class="fa-solid fa-plus"></i></a></h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Year</th>
                <th>Picture</th>
                <th>Label</th>
                <th>Price</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for disc in discs %}
            <tr>
                <td>{{ disc.id }}</td>
                <td>{{ disc.title }}</td>
                <td>{{ disc.year }}</td>
                <td>{{ disc.picture }}</td>
                <td>{{ disc.label }}</td>
                <td>{{ disc.price }}</td>
                <td>
                    <a href="{{ path('app_disc_show', {'id': disc.id}) }}"><i class="fa-solid fa-eye"></i></a>
                    {% if is_granted('ROLE_ADMIN') %}
                         <a href="{{ path('app_disc_edit', {'id': disc.id}) }}">edit</a>
                        
                    {% endif %}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

{% else %}
    <div>
        <span>Pour visualiser le contenu, merci de vous connecter</span>
    </div>
{% endif %}

{% endblock %}
